<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Recipe Collection</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../base.css">
    <link rel="stylesheet" href="../css/recipe.css">
    <script type="module" src="../inject.js" defer></script>
    <script type="module" src="../js/recipe.js" defer></script>
</head>

<body>


    <main>

        <!-- Filters Section -->
        <section class="filters">

            <!-- Search Bar -->
            <input id="searchInput" class="search-bar" type="text" placeholder="Search recipes or ingredients…">

            <!-- Quick Pills -->
            <section class="quick-row">
                <button class="quick-pill">Quick & Easy</button>
                <button class="quick-pill">Healthy</button>
                <button class="quick-pill">Vegetarian</button>
                <button class="quick-pill">High Protein</button>
                <button class="quick-pill">Low Carb</button>
            </section>

            <!-- Dropdown Filters -->
            <section class="dropdown-row">

                <section class="dd-box">
                    <button class="dd-btn">Meal Type ▾</button>
                    <section class="dd-panel">
                        <!-- Dynamic buttons will be inserted here by JS -->
                    </section>
                </section>

                <section class="dd-box">
                    <button class="dd-btn">Dietary ▾</button>
                    <section class="dd-panel">
                        <!-- Dynamic buttons will be inserted here by JS -->
                    </section>
                </section>

                <section class="dd-box">
                    <button class="dd-btn">Time & Difficulty ▾</button>
                    <section class="dd-panel">
                        <!-- Dynamic buttons will be inserted here by JS -->
                    </section>
                </section>

            </section>

           
            <!-- Filter Summary -->
            <section class="filter-summary">
                <span class="icon">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#475569" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 4h18l-7 8v6l-4 2v-8L3 4z" />
                    </svg>
                </span>
                <span id="filterCount">0 filters applied</span>
            </section>

        </section>

        <!-- Results Count -->
        <output id="count">Showing 0 of 0 recipes</output>

        <!-- Recipes Grid -->
        <ul id="recipes" class="recipes"></ul>

        <!-- Recipe Card Template -->
        <template id="card">
            <li>
                <article class="card">
                    <figure class="thumb">
                        <img alt="" loading="lazy">
                        <button type="button" class="fav" title="Save">&#9825;</button>
                        <span class="badge"></span>
                    </figure>
                    <section class="content">
                        <h3 class="title"></h3>
                        <p class="desc"></p>
                        <ul class="meta">
                            <li title="Total time"><time></time></li>
                            <li title="Calories"><output></output> cal</li>
                            <li title="Rating"><output></output></li>
                        </ul>
                        <nav class="tags"></nav>
                    </section>
                    <footer class="actions">
                        <a href="#" rel="recipe" class="primary">View Recipe</a>
                        <button type="button" class="ghost">Add to Plan</button>
                    </footer>
                </article>
            </li>
        </template>

        <!-- Modal -->
        <dialog id="modal">
            <section class="modal-hero-container">
                <img id="mImg" alt="">
                <button id="mClose" class="modal-close">✕</button>
                <button class="modal-fav">♡</button>
            </section>

            <section class="modal-content">
                <h2 id="mTitle"></h2>
                <p id="mDesc" class="modal-desc"></p>

                <ul class="modal-stats">
                    <li><strong id="mPrep"></strong><span>Prep Time</span></li>
                    <li><strong id="mCook"></strong><span>Cook Time</span></li>
                    <li><strong id="mServ"></strong><span>Servings</span></li>
                    <li><strong id="mCal"></strong><span>Calories</span></li>
                </ul>

                <section class="modal-body-grid">
                    <section>
                        <h3>Ingredients</h3>
                        <ul id="mIngr" class="modal-list"></ul>
                    </section>
                    <section>
                        <h3>Instructions</h3>
                        <ol id="mSteps" class="modal-list num"></ol>
                    </section>
                </section>

                <p>
                    <strong>Rating:</strong>
                    <span id="mRating"></span> 
                </p>

                <p>
                    <strong>Views:</strong>
                    <span id="mViews"></span>
                </p>

                <p>
                    <strong>Meal:</strong> 
                    <span id="mMeal"></span>
                </p>

                <p>
                    <strong>Diet:</strong> 
                    <span id="mDiet"></span>
                </p>
                <p>
                    <strong>Difficulty:</strong> <span id="mDiff"></span>
                </p>
                <div class="tag-row" id="mTags"></div>

                <ul class="macros">
                    <li>Protein: <span id="mProt"></span></li>
                    <li>Carbs: <span id="mCarbs"></span></li>
                    <li>Fat: <span id="mFat"></span></li>
                </ul>
                <ul id="mMicros"></ul>
            </section>
        </dialog>

        <!-- Tag Dialog -->
        <dialog id="tagDialog" class="tag-dialog">
            <h3>All Tags</h3>
            <section id="tagDialogContent"></section>
            <button id="tagDialogClose">Close</button>
        </dialog>

        <!-- Footer Include -->
        <div data-include="footer"></div>

    </main>

</body>

</html>